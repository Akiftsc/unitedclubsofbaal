{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import AdminTable from'./components/AdminTable';import AdminAddClub from'./components/AdminAddClub';import AdminSigns from'./components/AdminSigns';import AdminManageUsers from'./components/AdminManageUsers';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Admin(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loadPage=_useState2[0],setLoadPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),clubs=_useState4[0],setClubs=_useState4[1];var checkIsAdmin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:axios.get(\"http://192.168.1.29:4000/checkadmin/\".concat(JSON.parse(localStorage.getItem(\"authorization\")))).then(function(response){return response.data;}).then(function(data){if(data.isAdmin){setLoadPage(true);localStorage.setItem(\"user\",JSON.stringify(data.user));}else{navigate(\"/login\");}}).catch(function(error){return console.error(error);});case 1:case\"end\":return _context.stop();}},_callee);}));return function checkIsAdmin(){return _ref.apply(this,arguments);};}();useEffect(function(){checkIsAdmin();fetch('http://192.168.1.29:4000/clubs/').then(function(res){return res.json();}).then(function(data){return setClubs(data);}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:loadPage&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-3xl text-white\",children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-xl p-5 flex gap-8 flex-col lg:flex-row\",children:[/*#__PURE__*/_jsx(AdminTable,{clubs:clubs,setClubs:setClubs}),/*#__PURE__*/_jsx(AdminAddClub,{clubs:clubs,setClubs:setClubs})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-xl p-5 flex gap-8 flex-col lg:flex-row mt-4\",children:[/*#__PURE__*/_jsx(AdminSigns,{}),/*#__PURE__*/_jsx(AdminManageUsers,{})]})]})});}export default Admin;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","AdminTable","AdminAddClub","AdminSigns","AdminManageUsers","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin","navigate","_useState","_useState2","_slicedToArray","loadPage","setLoadPage","_useState3","_useState4","clubs","setClubs","checkIsAdmin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","concat","JSON","parse","localStorage","getItem","then","response","data","isAdmin","setItem","stringify","user","catch","error","console","stop","apply","arguments","fetch","res","json","err","log","children","className"],"sources":["C:/Users/youtu/OneDrive/Masaüstü/united-clubs/client/src/Admin.js"],"sourcesContent":["import React from 'react'\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport AdminTable from './components/AdminTable';\r\nimport AdminAddClub from './components/AdminAddClub';\r\nimport AdminSigns from './components/AdminSigns';\r\nimport AdminManageUsers from './components/AdminManageUsers';\r\nimport axios from 'axios';\r\n\r\nfunction Admin() {\r\n    const navigate = useNavigate();\r\n    const [loadPage, setLoadPage] = useState(false)\r\n    const [clubs, setClubs] = useState([]);\r\n\r\n    const checkIsAdmin = async () => {\r\n        axios.get(`http://192.168.1.29:4000/checkadmin/${JSON.parse(localStorage.getItem(\"authorization\"))}`)\r\n            .then(function (response) {\r\n                return response.data;\r\n            })\r\n            .then((data) => {\r\n                if (data.isAdmin) {\r\n                    setLoadPage(true);\r\n                    localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n                } else {\r\n                    navigate(\"/login\");\r\n\r\n                }\r\n            })\r\n            .catch((error) => console.error(error));\r\n    }\r\n\r\n    useEffect(() => {\r\n        checkIsAdmin();\r\n        fetch('http://192.168.1.29:4000/clubs/')\r\n            .then(res => res.json())\r\n            .then(data => setClubs(data))\r\n            .catch(err => console.log(err));\r\n    }, [])\r\n    return (\r\n        <>\r\n            {loadPage && (\r\n\r\n                <div className='text-white'>\r\n                    <h1 className='text-center text-3xl text-white'>\r\n                        Admin Panel\r\n                    </h1>\r\n                    <div className='container-xl p-5 flex gap-8 flex-col lg:flex-row'>\r\n                        <AdminTable clubs={clubs} setClubs={setClubs} />\r\n                        <AdminAddClub clubs={clubs} setClubs={setClubs} />\r\n                    </div>\r\n                    <div className='container-xl p-5 flex gap-8 flex-col lg:flex-row mt-4'>\r\n                        <AdminSigns />\r\n                        <AdminManageUsers />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Admin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}