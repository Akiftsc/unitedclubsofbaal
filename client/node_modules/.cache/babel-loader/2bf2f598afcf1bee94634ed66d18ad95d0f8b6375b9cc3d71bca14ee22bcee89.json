{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import AdminUpdateModalEditImage from\"./AdminUpdateModalEditImage\";import AdminRemoveUserFromClub from\"./AdminRemoveUserFromClub\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AdminUpdateModal(_ref){var selectedUpdate=_ref.selectedUpdate,setClubs=_ref.setClubs,clubs=_ref.clubs;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),clubName=_useState2[0],setClubName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),clubDescription=_useState4[0],setClubDescription=_useState4[1];useEffect(function(){setClubName(selectedUpdate.name);setClubDescription(selectedUpdate.description);},[selectedUpdate]);var saveHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var b,response,data,updatedClubs;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();b={name:clubName,description:clubDescription};_context.prev=2;_context.next=5;return axios.put(\"http://192.168.1.29:4000/club/edit/\".concat(selectedUpdate._id),b,{headers:{\"Accept\":'application/json','Content-Type':'application/json',\"authorization\":JSON.parse(localStorage.getItem(\"authorization\"))}});case 5:response=_context.sent;data=response.data;if(data.acknowledged){updatedClubs=clubs.map(function(club){if(club._id===selectedUpdate._id){return _objectSpread(_objectSpread({},club),{},{name:b.name,description:b.description});}return club;});setClubs(updatedClubs);}else{alert(\"Bir hata oluştu!\");}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(\"**\");console.error(_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function saveHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"my_modal_4\",className:\"modal-toggle\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal \",id:\"my_modal_4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-box bg-slate-800  flex align-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full max-w-xs\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-red-600 text-2xl\",children:\"Kul\\xFCp G\\xFCncelleme\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"avatar mt-5 flex w-full justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label \",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text text-white\",children:\"Kul\\xFCp Resmi\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-24 rounded-full\",children:/*#__PURE__*/_jsx(\"img\",{src:selectedUpdate.img[0],className:\"\",alt:\"\"})})]}),/*#__PURE__*/_jsx(\"label\",{className:\"label \",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text text-white\",children:\"Kul\\xFCp \\u0130smi\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setClubName(e.target.value);},type:\"text\",value:clubName,className:\"input input-bordered w-full max-w-xs text-gray-500\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text text-white\",children:\"Kul\\xFCp A\\xE7\\u0131klamas\\u0131\"})}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){return setClubDescription(e.target.value);},value:clubDescription,className:\"textarea textarea-bordered h-24 text-gray-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-warning\",onClick:saveHandler,children:\"Kaydet\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Foto\\u011Fraflar\\u0131 D\\xFCzenle\"}),/*#__PURE__*/_jsx(AdminUpdateModalEditImage,{selectedUpdate:selectedUpdate}),/*#__PURE__*/_jsx(AdminRemoveUserFromClub,{selectedUpdate:selectedUpdate})]})}),/*#__PURE__*/_jsx(\"label\",{className:\"modal-backdrop\",htmlFor:\"my_modal_4\",children:\"Close\"})]})]});}export default AdminUpdateModal;","map":{"version":3,"names":["React","useState","useEffect","AdminUpdateModalEditImage","AdminRemoveUserFromClub","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminUpdateModal","_ref","selectedUpdate","setClubs","clubs","_useState","_useState2","_slicedToArray","clubName","setClubName","_useState3","_useState4","clubDescription","setClubDescription","name","description","saveHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","b","response","data","updatedClubs","wrap","_callee$","_context","prev","next","preventDefault","put","concat","_id","headers","JSON","parse","localStorage","getItem","sent","acknowledged","map","club","_objectSpread","alert","t0","console","log","error","stop","_x","apply","arguments","children","type","id","className","src","img","alt","onChange","target","value","onClick","htmlFor"],"sources":["C:/Users/youtu/OneDrive/Masaüstü/united-clubs/client/src/components/AdminUpdateModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport AdminUpdateModalEditImage from \"./AdminUpdateModalEditImage\";\r\nimport AdminRemoveUserFromClub from \"./AdminRemoveUserFromClub\";\r\nimport axios from 'axios';\r\n\r\nfunction AdminUpdateModal({ selectedUpdate, setClubs, clubs }) {\r\n\r\n    const [clubName, setClubName] = useState(\"\");\r\n    const [clubDescription, setClubDescription] = useState(\"\");\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setClubName(selectedUpdate.name)\r\n        setClubDescription(selectedUpdate.description)\r\n    }, [selectedUpdate]);\r\n\r\n\r\n    const saveHandler = async (e) => {\r\n        e.preventDefault();\r\n        const b = {\r\n            name: clubName,\r\n            description: clubDescription,\r\n        }\r\n\r\n        try {\r\n            const response = await axios.put(`http://192.168.1.29:4000/club/edit/${selectedUpdate._id}`, b, {\r\n                headers: {\r\n                    \"Accept\": 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                    \"authorization\": JSON.parse(localStorage.getItem(\"authorization\")),\r\n                },\r\n            });\r\n\r\n            const data = response.data;\r\n            if (data.acknowledged) {\r\n                const updatedClubs = clubs.map((club) => {\r\n                    if (club._id === selectedUpdate._id) {\r\n                        return { ...club, name: b.name, description: b.description };\r\n                    }\r\n                    return club;\r\n                });\r\n                setClubs(updatedClubs);\r\n            } else {\r\n                alert(\"Bir hata oluştu!\");\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(\"**\")\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <input type=\"checkbox\" id=\"my_modal_4\" className=\"modal-toggle\" />\r\n            <div className=\"modal \" id=\"my_modal_4\">\r\n                <div className=\"modal-box bg-slate-800  flex align-center justify-center p-4\">\r\n                    <div className=\"form-control w-full max-w-xs\">\r\n                        <h1 className='text-center text-red-600 text-2xl'>Kulüp Güncelleme</h1>\r\n                        <div className=\"avatar mt-5 flex w-full justify-between\">\r\n                            <label className=\"label \">\r\n                                <span className=\"label-text text-white\">Kulüp Resmi</span>\r\n                            </label>\r\n                            <div className=\"w-24 rounded-full\">\r\n                                <img src={selectedUpdate.img[0]} className=\"\" alt='' />\r\n                            </div>\r\n                        </div>\r\n                        <label className=\"label \">\r\n                            <span className=\"label-text text-white\">Kulüp İsmi</span>\r\n                        </label>\r\n                        <input onChange={(e) => setClubName(e.target.value)} type=\"text\" value={clubName} className=\"input input-bordered w-full max-w-xs text-gray-500\" />\r\n                        <label className=\"label\">\r\n                            <span className=\"label-text text-white\">Kulüp Açıklaması</span>\r\n                        </label>\r\n                        <textarea onChange={(e) => setClubDescription(e.target.value)} value={clubDescription} className=\"textarea textarea-bordered h-24 text-gray-500\" />\r\n                        <div className='mt-3 flex justify-end'>\r\n                            <button className=\"btn btn-sm btn-warning\" onClick={saveHandler}>\r\n                                Kaydet\r\n                            </button>\r\n                        </div>\r\n                        <p>Fotoğrafları Düzenle</p>\r\n\r\n                        <AdminUpdateModalEditImage selectedUpdate={selectedUpdate} />\r\n                        <AdminRemoveUserFromClub selectedUpdate={selectedUpdate} />\r\n                    </div>\r\n                </div>\r\n                <label className=\"modal-backdrop\" htmlFor=\"my_modal_4\">Close</label>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminUpdateModal"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}