{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/youtu/OneDrive/Masa\\xFCst\\xFC/united-clubs/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AdminSigns(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),attends=_useState2[0],setAttends=_useState2[1];useEffect(function(){fetch('http://192.168.1.29:4000/attends/').then(function(res){return res.json();}).then(function(data){return setAttends(data);}).catch(function(err){return console.log(err);});},[]);var removeHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var id,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:id=e.target.parentElement.parentElement.id;console.log(id);_context.next=4;return axios.get(\"http://192.168.1.29:4000/attend/remove/\".concat(id),{headers:{\"Accept\":'application/json','Content-Type':'application/json',\"authorization\":JSON.parse(localStorage.getItem('authorization'))}});case 4:response=_context.sent;data=response;if(data.data.acknowledged){setAttends(attends.filter(function(attend){return attend._id!==id;}));}case 7:case\"end\":return _context.stop();}},_callee);}));return function removeHandler(_x){return _ref.apply(this,arguments);};}();var confirmHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var id,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:id=e.target.parentElement.parentElement.id;_context2.next=3;return axios.get(\"http://192.168.1.29:4000/attend/confirm/\".concat(id),{headers:{\"Accept\":'application/json','Content-Type':'application/json',\"authorization\":JSON.parse(localStorage.getItem('authorization'))}});case 3:response=_context2.sent;data=response.data;if(data.success){setAttends(attends.filter(function(attend){return attend._id!==id;}));}case 6:case\"end\":return _context2.stop();}},_callee2);}));return function confirmHandler(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto w-5/5 lg:w-3/5 rounded shadow-[0_2px_10px] shadow-blackA7 bg-slate-800 border\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-2xl text-bold underline text-white\",children:\"Kat\\u0131l\\u0131m \\u0130stekleri\"}),attends.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-white\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-lg\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0130sim\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kul\\xFCp\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:attends.map(function(attend,key){return/*#__PURE__*/_jsxs(\"tr\",{id:attend._id,children:[/*#__PURE__*/_jsx(\"td\",{children:attend.name}),/*#__PURE__*/_jsxs(\"td\",{children:[attend.email,/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"td\",{children:[attend.userClub.name,\" Kul\\xFCb\\xFC\"]}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn-xs\",onClick:confirmHandler,children:\"Onayla\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-error btn-xs\",onClick:removeHandler,children:\"Sil\"})})]},key);})})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-4\",children:\"Hen\\xFCz istek yok \\uD83D\\uDE3A\"})]});}export default AdminSigns;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminSigns","_useState","_useState2","_slicedToArray","attends","setAttends","fetch","then","res","json","data","catch","err","console","log","removeHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","id","response","wrap","_callee$","_context","prev","next","target","parentElement","get","concat","headers","JSON","parse","localStorage","getItem","sent","acknowledged","filter","attend","_id","stop","_x","apply","arguments","confirmHandler","_ref2","_callee2","_callee2$","_context2","success","_x2","className","children","length","map","key","name","email","userClub","onClick"],"sources":["C:/Users/youtu/OneDrive/MasaÃ¼stÃ¼/united-clubs/client/src/components/AdminSigns.js"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction AdminSigns() {\r\n\r\n    const [attends, setAttends] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        fetch('http://192.168.1.29:4000/attends/')\r\n            .then(res => res.json())\r\n            .then(data => setAttends(data))\r\n            .catch(err => console.log(err));\r\n    }, [])\r\n\r\n    const removeHandler = async (e) => {\r\n        const id = e.target.parentElement.parentElement.id;\r\n        console.log(id)\r\n        const response = await axios.get(`http://192.168.1.29:4000/attend/remove/${id}`, {\r\n            headers: {\r\n                \"Accept\": 'application/json',\r\n                'Content-Type': 'application/json',\r\n                \"authorization\": JSON.parse(localStorage.getItem('authorization'))\r\n            },\r\n        });\r\n\r\n        const data = response;\r\n        if (data.data.acknowledged) {\r\n            setAttends(attends.filter(attend => attend._id !== id));\r\n        }\r\n    }\r\n\r\n\r\n    const confirmHandler = async (e) => {\r\n        const id = e.target.parentElement.parentElement.id;\r\n        const response = await axios.get(`http://192.168.1.29:4000/attend/confirm/${id}`, {\r\n            headers: {\r\n                \"Accept\": 'application/json',\r\n                'Content-Type': 'application/json',\r\n                \"authorization\": JSON.parse(localStorage.getItem('authorization'))\r\n            },\r\n        });\r\n\r\n        const data = response.data;\r\n        if (data.success) {\r\n            setAttends(attends.filter(attend => attend._id !== id));\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"overflow-x-auto w-5/5 lg:w-3/5 rounded shadow-[0_2px_10px] shadow-blackA7 bg-slate-800 border\">\r\n            <h1 className='text-center text-2xl text-bold underline text-white'>KatÄ±lÄ±m Ä°stekleri</h1>\r\n\r\n            {attends.length > 0 ?\r\n                (<table className=\"table\">\r\n                    <thead className='text-white'>\r\n                        <tr className='text-lg'>\r\n                            <th>Ä°sim</th>\r\n                            <th>Email</th>\r\n                            <th>KulÃ¼p</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {attends.map((attend, key) => (\r\n                            <tr id={attend._id} key={key}>\r\n                                <td>\r\n                                    {attend.name}\r\n                                </td>\r\n                                <td>\r\n                                    {attend.email}\r\n                                    <br />\r\n                                </td>\r\n                                <td>{attend.userClub.name} KulÃ¼bÃ¼</td>\r\n                                <th>\r\n                                    <button className=\"btn btn-success btn-xs\" onClick={confirmHandler}>Onayla</button>\r\n                                </th>\r\n                                <th>\r\n                                    <button className=\"btn btn-error btn-xs\" onClick={removeHandler}>Sil</button>\r\n                                </th>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>) : <p className='text-center mt-4'>HenÃ¼z istek yok ðŸ˜º</p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminSigns"],"mappings":"gcAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAElB,IAAAC,SAAA,CAA8BP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1BT,SAAS,CAAC,UAAM,CAEZa,KAAK,CAAC,mCAAmC,CAAC,CACrCC,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAC,CACvBF,IAAI,CAAC,SAAAG,IAAI,QAAI,CAAAL,UAAU,CAACK,IAAI,CAAC,GAAC,CAC9BC,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAG,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,EAAA,CAAAC,QAAA,CAAAb,IAAA,QAAAQ,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpBN,EAAE,CAAGD,CAAC,CAACQ,MAAM,CAACC,aAAa,CAACA,aAAa,CAACR,EAAE,CAClDT,OAAO,CAACC,GAAG,CAACQ,EAAE,CAAC,CAAAI,QAAA,CAAAE,IAAA,SACQ,CAAAjC,KAAK,CAACoC,GAAG,2CAAAC,MAAA,CAA2CV,EAAE,EAAI,CAC7EW,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CACrE,CACJ,CAAC,CAAC,QANId,QAAQ,CAAAG,QAAA,CAAAY,IAAA,CAQR5B,IAAI,CAAGa,QAAQ,CACrB,GAAIb,IAAI,CAACA,IAAI,CAAC6B,YAAY,CAAE,CACxBlC,UAAU,CAACD,OAAO,CAACoC,MAAM,CAAC,SAAAC,MAAM,QAAI,CAAAA,MAAM,CAACC,GAAG,GAAKpB,EAAE,GAAC,CAAC,CAC3D,CAAC,wBAAAI,QAAA,CAAAiB,IAAA,MAAAvB,OAAA,GACJ,kBAfK,CAAAL,aAAaA,CAAA6B,EAAA,SAAA5B,IAAA,CAAA6B,KAAA,MAAAC,SAAA,OAelB,CAGD,GAAM,CAAAC,cAAc,6BAAAC,KAAA,CAAA/B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA8B,SAAO5B,CAAC,MAAAC,EAAA,CAAAC,QAAA,CAAAb,IAAA,QAAAQ,mBAAA,GAAAM,IAAA,UAAA0B,UAAAC,SAAA,iBAAAA,SAAA,CAAAxB,IAAA,CAAAwB,SAAA,CAAAvB,IAAA,SACrBN,EAAE,CAAGD,CAAC,CAACQ,MAAM,CAACC,aAAa,CAACA,aAAa,CAACR,EAAE,CAAA6B,SAAA,CAAAvB,IAAA,SAC3B,CAAAjC,KAAK,CAACoC,GAAG,4CAAAC,MAAA,CAA4CV,EAAE,EAAI,CAC9EW,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CACrE,CACJ,CAAC,CAAC,QANId,QAAQ,CAAA4B,SAAA,CAAAb,IAAA,CAQR5B,IAAI,CAAGa,QAAQ,CAACb,IAAI,CAC1B,GAAIA,IAAI,CAAC0C,OAAO,CAAE,CACd/C,UAAU,CAACD,OAAO,CAACoC,MAAM,CAAC,SAAAC,MAAM,QAAI,CAAAA,MAAM,CAACC,GAAG,GAAKpB,EAAE,GAAC,CAAC,CAC3D,CAAC,wBAAA6B,SAAA,CAAAR,IAAA,MAAAM,QAAA,GACJ,kBAdK,CAAAF,cAAcA,CAAAM,GAAA,SAAAL,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAcnB,CAGD,mBACI/C,KAAA,QAAKuD,SAAS,CAAC,+FAA+F,CAAAC,QAAA,eAC1G1D,IAAA,OAAIyD,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAC,kCAAiB,CAAI,CAAC,CAEzFnD,OAAO,CAACoD,MAAM,CAAG,CAAC,cACdzD,KAAA,UAAOuD,SAAS,CAAC,OAAO,CAAAC,QAAA,eACrB1D,IAAA,UAAOyD,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBxD,KAAA,OAAIuD,SAAS,CAAC,SAAS,CAAAC,QAAA,eACnB1D,IAAA,OAAA0D,QAAA,CAAI,WAAI,CAAI,CAAC,cACb1D,IAAA,OAAA0D,QAAA,CAAI,OAAK,CAAI,CAAC,cACd1D,IAAA,OAAA0D,QAAA,CAAI,UAAK,CAAI,CAAC,EACd,CAAC,CACF,CAAC,cACR1D,IAAA,UAAA0D,QAAA,CACKnD,OAAO,CAACqD,GAAG,CAAC,SAAChB,MAAM,CAAEiB,GAAG,qBACrB3D,KAAA,OAAIuB,EAAE,CAAEmB,MAAM,CAACC,GAAI,CAAAa,QAAA,eACf1D,IAAA,OAAA0D,QAAA,CACKd,MAAM,CAACkB,IAAI,CACZ,CAAC,cACL5D,KAAA,OAAAwD,QAAA,EACKd,MAAM,CAACmB,KAAK,cACb/D,IAAA,QAAK,CAAC,EACN,CAAC,cACLE,KAAA,OAAAwD,QAAA,EAAKd,MAAM,CAACoB,QAAQ,CAACF,IAAI,CAAC,eAAO,EAAI,CAAC,cACtC9D,IAAA,OAAA0D,QAAA,cACI1D,IAAA,WAAQyD,SAAS,CAAC,wBAAwB,CAACQ,OAAO,CAAEf,cAAe,CAAAQ,QAAA,CAAC,QAAM,CAAQ,CAAC,CACnF,CAAC,cACL1D,IAAA,OAAA0D,QAAA,cACI1D,IAAA,WAAQyD,SAAS,CAAC,sBAAsB,CAACQ,OAAO,CAAE/C,aAAc,CAAAwC,QAAA,CAAC,KAAG,CAAQ,CAAC,CAC7E,CAAC,GAdgBG,GAerB,CAAC,EACR,CAAC,CACC,CAAC,EACL,CAAC,cAAI7D,IAAA,MAAGyD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,iCAAkB,CAAG,CAAC,EACrE,CAAC,CAEd,CAEA,cAAe,CAAAvD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}